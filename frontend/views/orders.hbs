{{> nav}}

<!-- Orders page -->

<h1>Manage Orders</h1>

<h2>Existing Orders</h2>
<table border="1">
  <tr>
    <th>Order ID</th>
    <th>Order Date</th>
    <th>Shipping Address</th>
    <th>Order Total</th>
    <th>Customer</th>
  </tr>
  {{#each orders}}
  <tr>
    <td>{{orderID}}</td>
    <td>{{orderDate}}</td>
    <td>{{shippingAddress}}</td>
    <td>${{orderTotal}}</td>
    <td>{{email}}</td>
  </tr>
  {{/each}}
</table>

<h2>Add Order</h2>
<form action="/orders/add" method="POST">
  <label for="orderDate">Order Date:</label>
  <input type="date" name="orderDate" required>

  <label for="shippingAddress">Shipping Address:</label>
  <input type="text" name="shippingAddress" required>

  <label for="orderTotal">Order Total:</label>
  <input type="number" step="0.01" name="orderTotal" required>

  <label for="customerID">Customer:</label>
  <select name="customerID" required>
    {{#each customers}}
    <option value="{{this.customerID}}">{{this.email}}</option>
    {{/each}}
  </select>

  <button type="submit">Add Order</button>
</form>

<h2>Update Order Date</h2>
<form action="/orders/update" method="POST">
  <label for="orderID">Select Order:</label>
  <select name="orderID" required>
    {{#each orders}}
      <option value="{{orderID}}">
        #{{orderID}} — {{orderDate}} — {{email}}
      </option>
    {{/each}}
  </select>

  <label for="orderDate">New Order Date:</label>
  <input type="date" name="orderDate" required>

  <button type="submit">Update Order</button>
</form>

<h2>Delete Order</h2>
<form action="/orders/delete" method="POST">
  <label for="orderID">Select Order:</label>
  <select name="orderID" required>
    {{#each orders}}
      <option value="{{orderID}}">
        #{{orderID}} — {{orderDate}} — {{email}}
      </option>
    {{/each}}
  </select>

  <button type="submit" style="background-color: #c0392b; color: white;">
    Delete Order
  </button>
</form>