{{> nav}}

<!-- orderItems page -->

<h1>Manage Order Items</h1>

<h2>Sample Order Items</h2>
<table border="1">
    <tr>
      <th>Order Item ID</th>
      <th>Order ID</th>
      <th>Order Date</th>
      <th>Product ID</th>
      <th>Model</th>
      <th>Price</th>
      <th>Quantity</th>
    </tr>
    {{#each orderitems}}
    <tr>
      <td>{{orderItemID}}</td>
      <td>{{orderID}}</td>
      <td>{{orderDate}}</td>
      <td>{{productID}}</td>
      <td>{{model}}</td>
      <td>{{price}}</td>
      <td>{{quantity}}</td>
    </tr>
    {{/each}}
</table>



<h2>Add Order Item</h2>
<form action="/orderitems/add" method="POST">
  <label for="orderID">Order:</label>
  <select name="orderID" required>
    {{#each orders}}
      <option value="{{this.orderID}}">Order #{{this.orderID}} - {{this.orderDate}}</option>
    {{/each}}
  </select>

  <label for="productID">Product:</label>
  <select name="productID" required>
    {{#each products}}
      <option value="{{this.productID}}">{{this.model}}</option>
    {{/each}}
  </select>

  <label for="quantity">Quantity:</label>
  <input type="number" name="quantity" min="1" required>

  <button type="submit">Add to Order</button>
</form>


<h2>Update Order Item</h2>
<form action="/orderitems/update" method="POST">
  <!-- Select the existing OrderItem -->
  <label for="orderItemID">Order Item:</label>
  <select name="orderItemID" required>
    {{#each orderitems}}
      <option value="{{orderItemID}}">
        #{{orderItemID}} â€” Order #{{orderID}}, Product #{{productID}}, Qty: {{quantity}}
      </option>
    {{/each}}
  </select>
  <br><br>

  <!-- New Order ID -->
  <label for="newOrderID">New Order:</label>
  <select name="newOrderID" required>
    {{#each orders}}
      <option value="{{orderID}}">Order #{{orderID}} - {{orderDate}}</option>
    {{/each}}
  </select>
  <br><br>

  <!-- New Product ID -->
  <label for="newProductID">New Product:</label>
  <select name="newProductID" required>
    {{#each products}}
      <option value="{{productID}}">{{model}}</option>
    {{/each}}
  </select>
  <br><br>

  <!-- New Quantity -->
  <label for="newQuantity">New Quantity:</label>
  <input type="number" name="newQuantity" min="1" required>
  <br><br>

  <button type="submit">Update Order Item</button>
</form>


<h2>Delete Order Item</h2>
<form action="/orderitems/delete" method="POST">
  <label for="orderItemID">Select Order Item:</label>
  <select name="orderItemID" required>
    {{#each orderitems}}
      <option value="{{orderItemID}}">
        OrderItem #{{orderItemID}} - Order #{{orderID}}, Product #{{productID}}, Qty: {{quantity}}
      </option>
    {{/each}}
  </select>
  <button type="submit" style="background-color: #c0392b; color: white;">Delete Order Item</button>
</form>
